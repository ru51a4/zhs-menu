<html>
<head>
d    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>
<div class="row">
    <div class="app">

    </div>
</div>
<style>

    .zhs-menu {
        display: flex;
    }

    .zhs-menu .zhs-menu--items {
        display: inline-flex;
        flex-direction: column;
    }

    .zhs-menu .zhs-menu--items--item {
        height: 50px;
        display: inline;
        cursor: pointer;
        border: 1px solid black;
    }
</style>
<script>
    let menu = {
        childrens: [{
            title: "фронтенд", childrens: [
                {title: "vue", childrens: []},
                {title: "react", childrens: []}
            ]
        }, {
            title: "бекенд", childrens: [
                {
                    title: "laravel", childrens: [
                        {title: "admin", childrens: []},
                        {title: "superadmin", childrens: []}
                    ]
                },
                {title: "yii", childrens: []}
            ]
        }]
    };
    let c = 0;
    let maxLvl = 0;
    let getMaxLvl = (item) => {
        item.childrens.forEach((cItem) => {
            c++
            if (maxLvl < c) {
                maxLvl = c;
            }
            getMaxLvl(cItem);
            c--;
        })
    };
    getMaxLvl(menu);
    let getParrent = (node, prev) => {
        node.parrent = prev?.title;
        node.childrens.forEach((item) => {
            getParrent(item, node);
        })
    };
    getParrent(menu);

    let html = `<div class="zhs-menu">
                <div class="zhs-menu--items">`;
    let t = [];
    let cLvl = 1;
    let queue = [...menu.childrens];
    while (queue.length) {
        let item = queue.shift();
        let displaynone = (cLvl > 1) ? 'display:none' : ''
        let next= (item.childrens.length) ? "->" : "";
        html += `
                <div lvl="${cLvl}" data="${item.title}" parrent="${item.parrent}" style="${displaynone}" class="zhs-menu--items--item">
                    ${item.title}
                    ${next}
                </div>`;
        t.push(...item.childrens);
        if (!queue.length) {
            queue.push(...t);
            html += `</div>`;
            if (t.length) {
                html += `<div class="zhs-menu--items">`;
            }
            t = [];
            cLvl++
        }
    }
    html += "</div>"
    document.querySelector(".app").innerHTML = html;
    document.querySelectorAll(".zhs-menu--items--item").forEach((el) => {
        el.addEventListener("click", (item) => {
            let data = el.getAttribute("data");
            let lvl = document.querySelectorAll(`[parrent="${data}"]`)[0].getAttribute("lvl");
            for (let i = parseInt(lvl); i <= maxLvl; i++) {
                document.querySelectorAll(`[lvl="${i}"]`).forEach((el) => {
                    el.style.display = "none";
                });
            }
            document.querySelectorAll(`[parrent="${data}"]`).forEach((el) => {
                el.style.display = "inline";
            })
        });
    })

</script>
</body>
</html>
